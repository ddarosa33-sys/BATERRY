<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power BT - Battery Monitor</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #020617; }
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(12px); }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 5px rgba(52, 211, 153, 0.2); }
            50% { box-shadow: 0 0 20px rgba(52, 211, 153, 0.6); }
        }
        .charging-glow { animation: pulse-glow 2s infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        // Firebase modules from global window (loaded via CDN logic in environment)
        // In a real GitHub deployment, you'd import these from:
        // https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js
        // For this artifact, we use the pre-configured global variables.

        const Lucide = {
            Bluetooth: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m7 7 10 10-5 5V2l5 5L7 17"/></svg>,
            Battery: ({className, size=20}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="16" height="10" x="2" y="7" rx="2" ry="2"/><line x1="22" x2="22" y1="11" y2="13"/></svg>,
            BatteryCharging: ({className, size=20}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-1"/><path d="M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"/><path d="m11 7-3 5h4l-3 5"/><line x1="22" x2="22" y1="11" y2="13"/></svg>,
            Zap: ({className, size=14}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M4 14.71 13.5 3l-2.25 8.29H20L10.5 21l2.25-8.29H4Z"/></svg>,
            Activity: ({size=10, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
            Volume2: ({size=24}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M11 5 6 9H2v6h4l5 4V5Z"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>,
            Trash2: ({size=16}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>,
            Smartphone: ({size=18, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>,
            Bug: ({size=12}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m8 2 1.88 1.88"/><path d="M14.12 3.88 16 2"/><path d="M9 7.13v-1a3.003 3.003 0 1 1 6 0v1"/><path d="M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6"/><path d="M12 20v-9"/><path d="M6.53 9C4.6 8.8 3 7.1 3 5"/><path d="M6 13H2"/><path d="M3 21c0-2.1 1.7-3.9 3.8-4"/><path d="M20.97 5c0 2.1-1.6 3.8-3.5 4"/><path d="M22 13h-4"/><path d="M17.2 17c2.1.1 3.8 1.9 3.8 4"/></svg>
        };

        function App() {
            const [devices, setDevices] = useState([
                { id: '1', name: 'JBL Charge 5', battery: 78, isCharging: false, signal: -45 },
                { id: '2', name: 'Sony WH-1000XM4', battery: 12, isCharging: true, signal: -62 }
            ]);
            const [fps, setFps] = useState(0);
            const [isScanning, setIsScanning] = useState(false);
            const [showDebug, setShowDebug] = useState(false);

            // FPS Tracker
            useEffect(() => {
                let frameCount = 0;
                let lastTime = performance.now();
                const updateFps = () => {
                    frameCount++;
                    const now = performance.now();
                    if (now >= lastTime + 1000) {
                        setFps(Math.round((frameCount * 1000) / (now - lastTime)));
                        frameCount = 0;
                        lastTime = now;
                    }
                    requestAnimationFrame(updateFps);
                };
                requestAnimationFrame(updateFps);
            }, []);

            const handleScan = () => {
                setIsScanning(true);
                setTimeout(() => {
                    setIsScanning(false);
                }, 2000);
            };

            const removeDevice = (id) => {
                setDevices(devices.filter(d => d.id !== id));
            };

            return (
                <div className="min-h-screen flex flex-col max-w-md mx-auto relative overflow-hidden text-slate-100 shadow-2xl border-x border-slate-800">
                    
                    {/* Status Bar Mock */}
                    <div className="absolute top-4 left-4 z-50 flex items-center gap-2">
                        <div className="bg-black/60 px-2 py-1 rounded border border-white/10 flex items-center gap-2">
                            <Lucide.Activity size={10} className="text-emerald-400" />
                            <span className="text-[10px] font-bold font-mono">{fps} FPS</span>
                        </div>
                        <button onClick={() => setShowDebug(!showDebug)} className="bg-black/60 p-1 rounded border border-white/10 text-indigo-400">
                            <Lucide.Bug size={10} />
                        </button>
                    </div>

                    <header className="p-8 pt-16 bg-gradient-to-b from-indigo-900/40 to-transparent">
                        <div className="flex justify-between items-center mb-8">
                            <div>
                                <h1 className="text-2xl font-black italic tracking-tighter uppercase flex items-center gap-2">
                                    <Lucide.Bluetooth /> Power BT
                                </h1>
                                <p className="text-[10px] font-black text-indigo-400 tracking-widest uppercase mt-1">Status: Live Monitoring</p>
                            </div>
                            <Lucide.Smartphone size={20} className="text-slate-500" />
                        </div>
                    </header>

                    <main className="flex-1 px-6 space-y-6 overflow-y-auto pb-24">
                        <div className="flex justify-between items-center px-1">
                            <h2 className="text-[10px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-2">
                                <Lucide.Zap size={14} className="text-indigo-500" /> Dispositivos
                            </h2>
                            <span className="text-[10px] font-bold text-slate-600 uppercase">{devices.length} Conectados</span>
                        </div>

                        <div className="space-y-4">
                            {devices.map(device => (
                                <div key={device.id} className="bg-slate-900/80 border border-slate-800 p-6 rounded-[2.5rem] relative group overflow-hidden">
                                    <div className="flex justify-between items-start mb-6">
                                        <div className="flex gap-4">
                                            <div className="p-4 bg-indigo-600/10 text-indigo-500 rounded-2xl">
                                                <Lucide.Volume2 size={24} />
                                            </div>
                                            <div>
                                                <h3 className="font-black text-white text-lg tracking-tight">{device.name}</h3>
                                                <p className="text-[9px] font-bold text-slate-500 uppercase">RSSI: {device.signal} dBm</p>
                                            </div>
                                        </div>
                                        <div className="text-right">
                                            {device.isCharging ? 
                                                <Lucide.BatteryCharging className="text-emerald-400 animate-pulse" /> : 
                                                <Lucide.Battery className={device.battery < 20 ? 'text-red-500' : 'text-slate-400'} />
                                            }
                                            <p className="text-[10px] font-black text-slate-500 mt-1">{device.battery}%</p>
                                        </div>
                                    </div>

                                    <div className="w-full h-2.5 bg-slate-800 rounded-full overflow-hidden mb-4">
                                        <div 
                                            className={`h-full rounded-full transition-all duration-1000 ${device.isCharging ? 'bg-emerald-400 charging-glow' : device.battery > 20 ? 'bg-indigo-500' : 'bg-red-500'}`}
                                            style={{ width: `${device.battery}%` }}
                                        />
                                    </div>

                                    <div className="flex justify-between items-center">
                                        <div className="flex items-center gap-2">
                                            {device.isCharging && (
                                                <div className="flex items-center gap-1 bg-emerald-500/10 px-2 py-0.5 rounded-full border border-emerald-500/20">
                                                    <Lucide.Zap size={8} className="text-emerald-400" />
                                                    <span className="text-[8px] font-black text-emerald-400 uppercase">Cargando</span>
                                                </div>
                                            )}
                                        </div>
                                        <button onClick={() => removeDevice(device.id)} className="p-2 text-slate-700 hover:text-red-500 transition-colors">
                                            <Lucide.Trash2 size={16} />
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>

                        <button 
                            onClick={handleScan}
                            disabled={isScanning}
                            className="w-full bg-indigo-600 p-5 rounded-[2rem] font-black text-sm flex items-center justify-center gap-3 active:scale-95 transition-all shadow-xl shadow-indigo-900/20 disabled:opacity-50"
                        >
                            {isScanning ? "BUSCANDO..." : "ESCANEAR DISPOSITIVOS"}
                        </button>
                    </main>

                    <footer className="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-slate-950/80 backdrop-blur-xl border-t border-slate-800 p-6 flex justify-around">
                        <div className="text-indigo-500"><Lucide.Volume2 /></div>
                        <div className="w-14 h-14 bg-indigo-600 rounded-full flex items-center justify-center -mt-12 border-4 border-slate-950 text-white shadow-2xl">
                            <Lucide.Bluetooth />
                        </div>
                        <div className="text-slate-600"><Lucide.Activity size={24} /></div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

